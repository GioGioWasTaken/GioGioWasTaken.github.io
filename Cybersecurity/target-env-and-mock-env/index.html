<!doctype html><html data-theme=dark lang=en xmlns=http://www.w3.org/1999/xhtml><head><meta charset=UTF-8><meta name=description><meta content="width=device-width,initial-scale=1" name=viewport><meta content=#9ac2c2 name=theme-color><title>Target Env And Mock Env - Gio's site</title><link href=https://giogiowastaken.github.io/Cybersecurity/target-env-and-mock-env/ rel=canonical><link href=https://giogiowastaken.github.io/favicon.png rel=icon type=image/png><link href=https://giogiowastaken.github.io/apple-touch-icon.png rel=apple-touch-icon sizes=180x180 type=image/png><style>:root{--accent-color:#9ac2c2}</style><link href=https://giogiowastaken.github.io/style.css rel=stylesheet><script defer src=https://giogiowastaken.github.io/closable.js></script><meta content="Gio's site" property=og:site_name><meta content="Target Env And Mock Env - Gio's site" property=og:title><meta content=https://giogiowastaken.github.io/Cybersecurity/target-env-and-mock-env/ property=og:url><meta property=og:description><meta content=https://giogiowastaken.github.io/card.png property=og:image><meta content=en_US property=og:locale><body><main id=main-content><h1>Target Env And Mock Env</h1><h1 id=ah-yes-my-favourite-part-of-exploit-development>Ah yes, my favourite part of exploit development</h1><p><img alt="Typical experience when de- veloping exploit in mock environment first (illustration)." src=https://giogiowastaken.github.io/Cybersecurity/target-env-and-mock-env/assets/mock_env.png><p><img alt="Typical experience when de- veloping exploit directly in target envi- ronment (illustration)." src=https://giogiowastaken.github.io/Cybersecurity/target-env-and-mock-env/assets/target_env.png><h2 id=we-don-t-have-access-to-the-assembly>We don't have access to the assembly:</h2><ul><li>I am yet to have been in this situation. This makes exploit development near impossible.</ul><h2 id=a-difference-between-machines>A difference between machines:</h2><h2 id=issue-of-dependencies>Issue of Dependencies:</h2><p>Perhaps the biggest issue we have to take into account when considering toy vs real solutions is that of dependencies.<ul><li><p>install the missing dependencies. We probably don’t have permissions to do this, but it is worth a shot</p><li><p>use a static, compiled language such as C, C++, Rust or Golang that we feel comfortable and productive with (that’s relatively speaking, of course; nothing is as comfortable and productive as Python). Compile for the target machine architecture and simply run the executable in the target environment. This may be a handful of work, but will eliminate the vast majority of dependency issues.</p><li><p>use Python with pyinstaller. pyinstaller can convert Python scripts into executable programs: pyinstaller --onefile script.py .</p><li><p>force executables to be linked statically. Some run-time libraries we’re relying on might not be available on the target environment, which will cause executables to crash and complain about missing libraries.</p> <ul><li>Otherwise, another solution is to use <code>staticx</code> on a dynamically-linked executable to obtain a statically-linked version:<li>e.g. staticx input_dynamic_executable output_static_executable .</ul><li><p>look for an alternative on the target system. For instance, as we mentioned before, the pwnable servers don’t have the pexpect Python library installed, but do have pwntools which offer analogous functionality. Note that pwntools is only implemented for Python 2 and not Python 3.</p><li><p>sigh and implement the functionality ourselves. We should proceed with caution. If we are not super comfortable with the problem domain, chances are this will end badly.</p></ul></main><footer id=site-footer></footer>